(function(){function t(n,e,r){var o=t.resolve(n);if(null==o){r=r||n,e=e||"root";var i=Error('Failed to require "'+r+'" from "'+e+'"');throw i.path=r,i.parent=e,i.require=!0,i}var s=t.modules[o];return s.exports||(s.exports={},s.client=s.component=!0,s.call(this,s.exports,t.relative(o),s)),s.exports}t.modules={},t.aliases={},t.resolve=function(n){"/"===n.charAt(0)&&(n=n.slice(1));for(var e=n+"/index.js",r=[n,n+".js",n+".json",n+"/index.js",n+"/index.json"],o=0;r.length>o;o++){var n=r[o];if(t.modules.hasOwnProperty(n))return n}return t.aliases.hasOwnProperty(e)?t.aliases[e]:void 0},t.normalize=function(t,n){var e=[];if("."!=n.charAt(0))return n;t=t.split("/"),n=n.split("/");for(var r=0;n.length>r;++r)".."==n[r]?t.pop():"."!=n[r]&&""!=n[r]&&e.push(n[r]);return t.concat(e).join("/")},t.register=function(n,e){t.modules[n]=e},t.alias=function(n,e){if(!t.modules.hasOwnProperty(n))throw Error('Failed to alias "'+n+'", it does not exist');t.aliases[e]=n},t.relative=function(n){function e(t,n){for(var e=t.length;e--;)if(t[e]===n)return e;return-1}function r(e){var o=r.resolve(e);return t(o,n,e)}var o=t.normalize(n,"..");return r.resolve=function(r){var i=r.charAt(0);if("/"==i)return r.slice(1);if("."==i)return t.normalize(o,r);var s=n.split("/"),a=e(s,"deps")+1;return a||(a=0),r=s.slice(0,a+1).join("/")+"/deps/"+r},r.exists=function(n){return t.modules.hasOwnProperty(r.resolve(n))},r},t.register("component-indexof/index.js",function(t,n,e){var r=[].indexOf;e.exports=function(t,n){if(r)return t.indexOf(n);for(var e=0;t.length>e;++e)if(t[e]===n)return e;return-1}}),t.register("component-emitter/index.js",function(t,n,e){function r(t){return t?o(t):void 0}function o(t){for(var n in r.prototype)t[n]=r.prototype[n];return t}var i=n("indexof");e.exports=r,r.prototype.on=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(n),this},r.prototype.once=function(t,n){function e(){r.off(t,e),n.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n._off=e,this.on(t,e),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks[t];if(!e)return this;if(1==arguments.length)return delete this._callbacks[t],this;var r=i(e,n._off||n);return~r&&e.splice(r,1),this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var n=[].slice.call(arguments,1),e=this._callbacks[t];if(e){e=e.slice(0);for(var r=0,o=e.length;o>r;++r)e[r].apply(this,n)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),t.register("phono/dist/main.js",function(t,n,e){var r,o;o=n("./Phone"),r=n("./Call"),e.exports={Phone:o,Call:r,createClient:function(t,n){return null==n&&(n={}),new o(t,n)}}}),t.register("phono/dist/Call.js",function(t,n,e){var r,o,i={}.hasOwnProperty,s=function(t,n){function e(){this.constructor=t}for(var r in n)i.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};o=n("emitter"),r=function(t){function n(t){var n=this;this._call=t,this._call.bind({onRing:function(){return n.emit("ring")},onAnswer:function(){return n.emit("answer")},onError:function(t){return n.emit("error",t)},onHangup:function(){return n.emit("hangup")}})}return s(n,t),n.prototype.id=function(){return this._call.id},n.prototype.state=function(){return this._call.state},n.prototype.energy=function(){return this._call.energy()},n.prototype.press=function(t){return this._call.digit(t)},n.prototype.pushToTalk=function(t){return this._call.pushToTalk(t)},n.prototype.talking=function(t){return this._call.talking(t)},n.prototype.mute=function(t){return this._call.mute(t)},n.prototype.hold=function(t){return this._call.hold(t)},n.prototype.volume=function(t){return this._call.volume(t)},n.prototype.gain=function(t){return this._call.gain(t)},n.prototype.answer=function(){return this._call.answer()},n.prototype.hangup=function(){return this._call.hangup()},n.prototype.ready=function(t){return this._ready?t():this.once("ready",t)},n}(o),e.exports=r}),t.register("phono/dist/Phone.js",function(t,n,e){var r,o,i,s={}.hasOwnProperty,a=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};o=n("emitter"),r=n("./Call"),i=function(t){function n(t,n){var e=this;this.apiKey=t,this.opt=null!=n?n:{},this._phono=$.phono({gateway:this.opt.gateway,apiKey:this.apiKey,onReady:function(){return e._ready=!0,e.emit("ready")},onUnready:function(){return e._ready=!1,e.emit("disconnect")},phone:{onIncomingCall:function(t){return e.emit("call",new r(t.call))},onError:function(t){return e.emit("error",t)}},messaging:{onMessage:function(t){return e.emit("message",t.message)}}})}return a(n,t),n.prototype.connected=function(){return this._phono.connected()},n.prototype.number=function(){return this._phono.sessionId},n.prototype.tones=function(t){return this._phono.tones(t)},n.prototype.headset=function(t){return this._phono.headset(t)},n.prototype.wideband=function(t){return this._phono.wideband(t)},n.prototype.ringTone=function(t){return this._phono.ringTone(t)},n.prototype.ringbackTone=function(t){return this._phono.ringbackTone(t)},n.prototype.message=function(t,n){return this._phono.messaging.send(t,n),this},n.prototype.call=function(t){var n;return n=this._phono.phone.dial(t),new r(n)},n.prototype.ready=function(t){return this._ready?t():this.once("ready",t),this},n}(o),e.exports=i}),t.alias("component-emitter/index.js","phono/deps/emitter/index.js"),t.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),t.alias("phono/dist/main.js","phono/index.js"),"object"==typeof exports?module.exports=t("phono"):"function"==typeof define&&define.amd?define(function(){return t("phono")}):window.phono=t("phono")})();